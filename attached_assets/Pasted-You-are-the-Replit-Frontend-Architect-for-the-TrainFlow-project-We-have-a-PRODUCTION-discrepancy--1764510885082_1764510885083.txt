You are the Replit Frontend Architect for the TrainFlow project.

We have a PRODUCTION discrepancy:

- Replit summary says: "Enterprise bilingual landing page with 9 sections and language toggle" is implemented.
- But on the live domain (training.rocktech.sa) we still see the old simple hero page with NO language toggle and no visible multi-section layout.

Your job in THIS PHASE ONLY:

PHASE L2 – Align Deployed Frontend With New Landing + Add Visible Language Toggle

================================================================
A. HARD CONSTRAINTS (DO NOT VIOLATE)
================================================================

- DO NOT touch:
  - backend code
  - database
  - Alembic migrations
  - auth / RBAC / worker jobs
- NO destructive operations.
- Frontend only. Safe, additive changes.
- Keep existing routes under /app (dashboard) working.

================================================================
B. STEP 1 – Identify the REAL deployed frontend entry
================================================================

1) Inspect the project structure and determine:

   - Which directory is actually used as the SPA for deployment:
     - Is it `client/` ? 
     - Or `frontend/` ?
     - Or another folder?

   Look at:
   - package.json scripts that Replit uses for "Run" / "Preview" / deployment.
   - server code or config that proxies to the frontend build.

2) Write in comments at the top of the main SPA file (for yourself and future devs) something like:

   // ACTIVE FRONTEND ENTRY: [client/src/main.tsx OR frontend/src/main.tsx]
   // This is the version used for production build & training.rocktech.sa

3) IMPORTANT:
   - Make sure there is only ONE active frontend entry used for deploy.
   - If there is a second, unused folder (ex: `frontend/` vs `client/`), DO NOT delete files, but DO NOT rely on the unused folder anymore.
   - The new landing page MUST live in the active frontend entry.

================================================================
C. STEP 2 – Move / Wire the new landing page into the ACTIVE entry
================================================================

1) Locate the NEW landing implementation you previously created:
   - The i18n content in: frontend/src/i18n/en.ts and ar.ts (or similar)
   - The landing components in: frontend/src/components/landing/* (or similar)

2) Copy / refactor these into the ACTIVE frontend folder:

   - If `client/` is the real app:
     - Create / update:
       - client/src/i18n/en.ts
       - client/src/i18n/ar.ts
       - client/src/components/landing/*
       - client/src/pages/Landing.tsx (or equivalent)
     - Wire them into client/src/App.tsx (or router file).

   - If `frontend/` is the real app:
     - Ensure all landing components + i18n already live there and are imported by the router.

3) Ensure:
   - All visible text is taken from i18n (EN + AR).
   - The hero, features, workflow, AI, KPIs, integrations, security, FAQ, and footer sections are included.
   - The layout is responsive and matches what you described in the previous summary.

================================================================
D. STEP 3 – Route "/" to the new landing page (unauthenticated)
================================================================

1) Open the main router file (e.g. client/src/App.tsx or similar).

2) Ensure the root route `/` does the following:

   - For unauthenticated users:
     - Render the new Landing page component.

   - For authenticated users:
     - Either redirect to the dashboard (e.g. /app/dashboard)
     - OR show a “Enter App” button in the landing that sends them to the dashboard.

3) Verify that:
   - Dashboard routes (/app or similar) still work for logged-in users.
   - Protect internal pages with the existing auth guard as before.

================================================================
E. STEP 4 – Add a CLEAR LANGUAGE SWITCHER on the navbar
================================================================

1) On the landing page navbar, add a visible language toggle:

   - Text-based: “EN | عربي”
   - OR button icons.

2) Requirements:

   - When user clicks:
     - Switch i18n locale between "en" and "ar".
     - Update layout direction: LTR for English, RTL for Arabic.
     - Save choice to localStorage (so refresh keeps the language).

   - Use existing i18n and theming context if already present.
   - Make sure the toggle is visible at all times (not hidden inside profile or dashboard only).

3) Confirm that:
   - The hero and all sections correctly switch language.
   - HTML dir attribute (or main wrapper) changes for RTL in Arabic.

================================================================
F. STEP 5 – Quick Landing UX Audit
================================================================

On the ACTIVE frontend:

1) In EN:
   - Visit `/` and scroll from top to bottom.
   - Confirm all 9 sections appear:
     - Hero
     - Core capabilities (12 cards)
     - Workflow (8 steps)
     - AI capabilities (5 cards)
     - KPI section
     - Integrations
     - Security & compliance
     - FAQ (accordion)
     - Footer

2) In AR:
   - Switch language.
   - Confirm:
     - Text is Arabic.
     - Layout is RTL.
     - Cards and grids still look correct.

3) Make sure there are no console errors and no 404s.

================================================================
G. DELIVERABLES & SUMMARY
================================================================

When done, provide a summary that includes:

- Which folder is the ACTIVE frontend (`client/` or `frontend/`).
- Which files were created or modified (list key ones).
- How the language toggle works and where it is located.
- How to test:
  - Unauthenticated landing (EN & AR).
  - Authenticated dashboard (unchanged).
- Confirm that training.rocktech.sa will render this same landing after republish.
